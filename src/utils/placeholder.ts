import { ImageSourcePropType } from 'react-native';

// Placeholder images for different types
const placeholderImages = {
  app: require('../assets/placeholders/app-placeholder.png'),
  profile: require('../assets/placeholders/profile-placeholder.png'),
  icon: require('../assets/placeholders/icon-placeholder.png'),
};

export const getPlaceholderImage = (type: keyof typeof placeholderImages = 'icon'): ImageSourcePropType => {
  try {
    return placeholderImages[type];
  } catch (error) {
    // Fallback to a base64 placeholder if assets are missing
    return {
      uri: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF8WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4yLWMwMDAgNzkuMWI2NWE3OWI0LCAyMDIyLzA2LzEzLTIyOjAxOjAxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjQuMCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjQtMDMtMjdUMTg6NDc6NDctMDQ6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjQtMDMtMjdUMTg6NDc6NDctMDQ6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDI0LTAzLTI3VDE4OjQ3OjQ3LTA0OjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY2ZWJkMzA1LTNjMGItNDZhZC1hOTY1LTdjYWRhYzc4ZjZhYyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjY1ZjI5ZGE0LTM5ZDAtNDU0Ny1hMjIxLTY5NGFmZjY2ZjY4YyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjYyYjI5ZjUyLTU5ZDgtNDZhMy1hMmM1LTNiYWRhYzc4ZjZhYyIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjYyYjI5ZjUyLTU5ZDgtNDZhMy1hMmM1LTNiYWRhYzc4ZjZhYyIgc3RFdnQ6d2hlbj0iMjAyNC0wMy0yN1QxODo0Nzo0Ny0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDI0LjAgKE1hY2ludG9zaCkiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjY2ZWJkMzA1LTNjMGItNDZhZC1hOTY1LTdjYWRhYzc4ZjZhYyIgc3RFdnQ6d2hlbj0iMjAyNC0wMy0yN1QxODo0Nzo0Ny0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDI0LjAgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+wZVwMAAAAnFJREFUaIHtmj9oE1Ecxz/vpZFSHBxEyNTBEvDPIMVBiFAoZnBwlA6C4FBQkELrUApOQh0LOhRcpOCgg4vg0EXQoSCIWFwKGRQEQdDBQQsOGTREY+57Dt57yV3uvZdc7i6X5D4QeHf3+733vb/v7nfvd+8MQgjBhvLfOwHXbHoBQoiGPvV6nVqtZn0vFotks1lM08Q0TXp7e+nr67Pek06nyWQyAAwPD5PL5RgaGiKVSjX0q1arVCoVKpUKAIVCgXw+TzKZxDCMjvWrVCqk02kymQzZbJZEIkEikSCRSNDT02O1M4QQYnV1VZTLZbG8vCyWlpbE4uKiWFhYEPPz82Jubk7Mzs6KmZkZMT09LaampsTk5KSYmJgQ4+PjYmxsTBQKBZHP50UulxPZbFZks1kxMjIihoaGxODgoEgmk2JgYED09/eLvr4+0dvbK3p6eoRpmqKrq0sYhiEMwxDxeFzEYjERjUZFJBIR4XBYhEIhEQwGRSAQEH6/X/h8PuH1eoXH4xFut1u4XC7hdDqFw+EQdrtd2Gw2YbVahcViERaLRZimKUzTFLFYTMRiMZFIJEQikRD9/f0ilUqJVColgsFgR/oFg0GRTCatfuFwWIRCIREKhUQwGBSBQED4/X7h8/mE1+sVHo9HuN1u4XK5hNPpFA6HQ9jtdmGz2YTVahUWi0WYpqkVYLfbsdvtOBwO6/XodDpxuVy43W48Hg9erxefz4ff7ycQCFivVMMwME0T0zSJx+PE43GrXzQaJRKJEA6HCYVCBINBAoEAfr8fn8+H1+vF4/HgdrtxuVw4nU4cDgd2ux2bzYbVam1fgE3HphewFWx6AYFAQLdJbWKxmG6T2kSjUd0mtYlEIrpNahMOh3Wb1Eabh03PxhfwF5yLaLhYKpMRAAAAAElFTkSuQmCC'
    };
  }
};

export const tryRequireImage = (path: any, type: keyof typeof placeholderImages = 'icon'): ImageSourcePropType => {
  try {
    return path || getPlaceholderImage(type);
  } catch (error) {
    return getPlaceholderImage(type);
  }
}; 